var background;(()=>{"use strict";function n(){return`chrome-extension://${chrome.runtime.id}/index.html`}async function t(){const n=await e();return null!==n&&(await chrome.windows.update(n.windowId,{focused:!0}),void 0!==n.id&&await chrome.tabs.update(n.id,{active:!0}),!0)}async function e(){const t=await chrome.tabs.query({url:n()});return 0===t.length?null:t[0]}async function a(){if(await t())return;const n=await chrome.windows.getCurrent();let e=Math.round((n.left??200)+(n.width??0)-370-32),a=Math.round((n.top??200)+64);await chrome.windows.create({url:"index.html",width:370,height:800,type:"panel",focused:!0,left:e,top:a})}chrome.runtime.onMessageExternal.addListener(((n,t,i)=>{if("ensureExtensionPopupOpened"===n)return async function(){await async function(){return null!==await e()}()||await a()}().then((()=>{i()})),!0})),chrome.runtime.onMessage.addListener(((e,a,i)=>"areMultipleExtensionPopupsOpened"===e?(async function(){return(await chrome.tabs.query({url:n()})).length>1}().then((n=>{i(n)})),!0):"focusExtensionPopup"===e?(t().then((n=>{i(n)})),!0):void 0)),chrome.action.onClicked.addListener((async function(n){await a()})),background={}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoia0NBMkJBLFNBQVNBLElBQ0wsTUFBTyxzQkFBc0JDLE9BQU9DLFFBQVFDLGVBQ2hELENBS0FDLGVBQWVDLElBQ1gsTUFBTUMsUUFBcUJDLElBQzNCLE9BQXFCLE9BQWpCRCxVQUNNTCxPQUFPTyxRQUFRQyxPQUNqQkgsRUFBYUksU0FDYixDQUFFQyxTQUFTLFNBRVNDLElBQXBCTixFQUFhSCxVQUNQRixPQUFPWSxLQUFLSixPQUNkSCxFQUFhSCxHQUNiLENBQUVXLFFBQVEsS0FHWCxFQUdmLENBRUFWLGVBQWVHLElBQ1gsTUFBTVEsUUFBc0JkLE9BQU9ZLEtBQUtHLE1BQU0sQ0FBRUMsSUFBS2pCLE1BRXJELE9BQTZCLElBQXpCZSxFQUFjRyxPQUFxQixLQUNoQ0gsRUFBYyxFQUN6QixDQUVBWCxlQUFlZSxJQUNYLFNBQVVkLElBQ04sT0FHSixNQUFNZSxRQUFzQm5CLE9BQU9PLFFBQVFhLGFBSzNDLElBQUlDLEVBQU9DLEtBQUtDLE9BQU9KLEVBQWNFLE1BQVEsTUFBUUYsRUFBY0ssT0FBUyxHQUh6RCxJQUcyRSxJQUMxRkMsRUFBTUgsS0FBS0MsT0FBT0osRUFBY00sS0FBTyxLQUFPLFVBRTVDekIsT0FBT08sUUFBUW1CLE9BQU8sQ0FDeEJWLElBQUssYUFDTFEsTUFSZSxJQVNmRyxPQVJnQixJQVNoQkMsS0FBTSxRQUNObEIsU0FBUyxFQUNUVyxLQUFNQSxFQUNOSSxJQUFLQSxHQUViLENBakZBekIsT0FBT0MsUUFBUTRCLGtCQUFrQkMsYUFBWSxDQUFDQyxFQUFTQyxFQUFRQyxLQUMzRCxHQUFnQiwrQkFBWkYsRUFFQSxPQXlGUjVCLHVCQVRBQSxpQkFDSSxPQUFzQyxhQUF4QkcsR0FDbEIsQ0FRYzRCLFVBR0poQixHQUNWLENBL0ZRaUIsR0FBNkJDLE1BQUssS0FBUUgsR0FBYyxLQUNqRCxDQUNYLElBR0pqQyxPQUFPQyxRQUFRb0MsVUFBVVAsYUFBWSxDQUFDQyxFQUFTQyxFQUFRQyxJQUNuQyxxQ0FBWkYsR0ErRVI1QixpQkFFSSxhQUQ0QkgsT0FBT1ksS0FBS0csTUFBTSxDQUFFQyxJQUFLakIsT0FDaENrQixPQUFTLENBQ2xDLENBakZRcUIsR0FBbUNGLE1BQU1HLElBQ3JDTixFQUFhTSxFQUFTLEtBRW5CLEdBRUssd0JBQVpSLEdBQ0EzQixJQUFzQmdDLE1BQU1HLElBQ3hCTixFQUFhTSxFQUFTLEtBRW5CLFFBSlgsSUFRSnZDLE9BQU93QyxPQUFPQyxVQUFVWCxhQUFZM0IsZUFBZ0J1QyxTQUMxQ3hCLEdBQ1YsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1jaHJvbWUtZXh0ZW5zaW9uLy4vc3JjL2JhY2tncm91bmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlRXh0ZXJuYWwuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UgPT09ICdlbnN1cmVFeHRlbnNpb25Qb3B1cE9wZW5lZCcpIHtcbiAgICAgICAgZW5zdXJlRXh0ZW5zaW9uUG9wdXBPcGVuZWQoKS50aGVuKCgpID0+IHsgc2VuZFJlc3BvbnNlKCkgfSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59KVxuXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UgPT09ICdhcmVNdWx0aXBsZUV4dGVuc2lvblBvcHVwc09wZW5lZCcpIHtcbiAgICAgICAgYXJlTXVsdGlwbGVFeHRlbnNpb25Qb3B1cHNPcGVuZWQoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBpZiAobWVzc2FnZSA9PT0gJ2ZvY3VzRXh0ZW5zaW9uUG9wdXAnKSB7XG4gICAgICAgIGZvY3VzRXh0ZW5zaW9uUG9wdXAoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbn0pXG5cbmNocm9tZS5hY3Rpb24ub25DbGlja2VkLmFkZExpc3RlbmVyKGFzeW5jIGZ1bmN0aW9uICh0YWIpIHtcbiAgICBhd2FpdCBvcGVuRXh0ZW5zaW9uUG9wdXAoKVxufSk7XG5cblxuZnVuY3Rpb24gZXh0ZW5zaW9uVXJsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBjaHJvbWUtZXh0ZW5zaW9uOi8vJHtjaHJvbWUucnVudGltZS5pZH0vaW5kZXguaHRtbGBcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBhIGV4dGVuc2lvbiBwb3B1cCBoYXMgYmVlbiBmb2N1c2VkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZvY3VzRXh0ZW5zaW9uUG9wdXAoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgZXh0ZW5zaW9uVGFiID0gYXdhaXQgZmluZEV4dGVuc2lvblRhYigpXG4gICAgaWYgKGV4dGVuc2lvblRhYiAhPT0gbnVsbCkge1xuICAgICAgICBhd2FpdCBjaHJvbWUud2luZG93cy51cGRhdGUoXG4gICAgICAgICAgICBleHRlbnNpb25UYWIud2luZG93SWQsXG4gICAgICAgICAgICB7IGZvY3VzZWQ6IHRydWUgfSxcbiAgICAgICAgKVxuICAgICAgICBpZiAoZXh0ZW5zaW9uVGFiLmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IGNocm9tZS50YWJzLnVwZGF0ZShcbiAgICAgICAgICAgICAgICBleHRlbnNpb25UYWIuaWQsXG4gICAgICAgICAgICAgICAgeyBhY3RpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuYXN5bmMgZnVuY3Rpb24gZmluZEV4dGVuc2lvblRhYigpOiBQcm9taXNlPGNocm9tZS50YWJzLlRhYiB8IG51bGw+IHtcbiAgICBjb25zdCBleHRlbnNpb25UYWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyB1cmw6IGV4dGVuc2lvblVybCgpIH0pXG5cbiAgICBpZiAoZXh0ZW5zaW9uVGFicy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG4gICAgcmV0dXJuIGV4dGVuc2lvblRhYnNbMF1cbn1cblxuYXN5bmMgZnVuY3Rpb24gb3BlbkV4dGVuc2lvblBvcHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChhd2FpdCBmb2N1c0V4dGVuc2lvblBvcHVwKCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFdpbmRvdyA9IGF3YWl0IGNocm9tZS53aW5kb3dzLmdldEN1cnJlbnQoKTtcblxuICAgIGNvbnN0IHBvcHVwV2lkdGggPSAzNzBcbiAgICBjb25zdCBwb3B1cEhlaWdodCA9IDgwMFxuXG4gICAgbGV0IGxlZnQgPSBNYXRoLnJvdW5kKChjdXJyZW50V2luZG93LmxlZnQgPz8gMjAwKSArIChjdXJyZW50V2luZG93LndpZHRoID8/IDApIC0gcG9wdXBXaWR0aCAtIDMyKTtcbiAgICBsZXQgdG9wID0gTWF0aC5yb3VuZCgoY3VycmVudFdpbmRvdy50b3AgPz8gMjAwKSArIDY0KTtcblxuICAgIGF3YWl0IGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7XG4gICAgICAgIHVybDogXCJpbmRleC5odG1sXCIsXG4gICAgICAgIHdpZHRoOiBwb3B1cFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHBvcHVwSGVpZ2h0LFxuICAgICAgICB0eXBlOiBcInBhbmVsXCIsXG4gICAgICAgIGZvY3VzZWQ6IHRydWUsXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgIH0pXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGlzRXh0ZW5zaW9uUG9wdXBPcGVuZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIChhd2FpdCBmaW5kRXh0ZW5zaW9uVGFiKCkpICE9PSBudWxsXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFyZU11bHRpcGxlRXh0ZW5zaW9uUG9wdXBzT3BlbmVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGV4dGVuc2lvblRhYnMgPSBhd2FpdCBjaHJvbWUudGFicy5xdWVyeSh7IHVybDogZXh0ZW5zaW9uVXJsKCkgfSlcbiAgICByZXR1cm4gZXh0ZW5zaW9uVGFicy5sZW5ndGggPiAxXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZUV4dGVuc2lvblBvcHVwT3BlbmVkKCkge1xuICAgIGlmIChhd2FpdCBpc0V4dGVuc2lvblBvcHVwT3BlbmVkKCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGF3YWl0IG9wZW5FeHRlbnNpb25Qb3B1cCgpXG59XG4iXSwibmFtZXMiOlsiZXh0ZW5zaW9uVXJsIiwiY2hyb21lIiwicnVudGltZSIsImlkIiwiYXN5bmMiLCJmb2N1c0V4dGVuc2lvblBvcHVwIiwiZXh0ZW5zaW9uVGFiIiwiZmluZEV4dGVuc2lvblRhYiIsIndpbmRvd3MiLCJ1cGRhdGUiLCJ3aW5kb3dJZCIsImZvY3VzZWQiLCJ1bmRlZmluZWQiLCJ0YWJzIiwiYWN0aXZlIiwiZXh0ZW5zaW9uVGFicyIsInF1ZXJ5IiwidXJsIiwibGVuZ3RoIiwib3BlbkV4dGVuc2lvblBvcHVwIiwiY3VycmVudFdpbmRvdyIsImdldEN1cnJlbnQiLCJsZWZ0IiwiTWF0aCIsInJvdW5kIiwid2lkdGgiLCJ0b3AiLCJjcmVhdGUiLCJoZWlnaHQiLCJ0eXBlIiwib25NZXNzYWdlRXh0ZXJuYWwiLCJhZGRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJpc0V4dGVuc2lvblBvcHVwT3BlbmVkIiwiZW5zdXJlRXh0ZW5zaW9uUG9wdXBPcGVuZWQiLCJ0aGVuIiwib25NZXNzYWdlIiwiYXJlTXVsdGlwbGVFeHRlbnNpb25Qb3B1cHNPcGVuZWQiLCJyZXNwb25zZSIsImFjdGlvbiIsIm9uQ2xpY2tlZCIsInRhYiJdLCJzb3VyY2VSb290IjoiIn0=