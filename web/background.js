var background;(()=>{"use strict";function n(){return`chrome-extension://${chrome.runtime.id}/index.html`}async function t(){const n=await e();return null!==n&&(await chrome.windows.update(n.windowId,{focused:!0}),void 0!==n.id&&await chrome.tabs.update(n.id,{active:!0}),!0)}async function e(){const t=await chrome.tabs.query({url:n()});return 0===t.length?null:t[0]}async function a(){if(await t())return;const n=await chrome.windows.getCurrent(),e=Math.round((n.left??200)+(n.width??0)-370-32),a=Math.round((n.top??200)+64);await chrome.windows.create({url:"index.html",width:370,height:800,type:"panel",focused:!0,left:e,top:a})}chrome.runtime.onMessageExternal.addListener(((n,t,i)=>{if("ensureExtensionPopupOpened"===n)return async function(){await async function(){return null!==await e()}()||await a()}().then((()=>{i()})),!0})),chrome.runtime.onMessage.addListener(((e,a,i)=>"areMultipleExtensionPopupsOpened"===e?(async function(){return(await chrome.tabs.query({url:n()})).length>1}().then((n=>{i(n)})),!0):"focusExtensionPopup"===e?(t().then((n=>{i(n)})),!0):void 0)),chrome.action.onClicked.addListener((async function(n){await a()})),background={}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoia0NBMkJBLFNBQVNBLElBQ0wsTUFBTyxzQkFBc0JDLE9BQU9DLFFBQVFDLGVBQ2hELENBS0FDLGVBQWVDLElBQ1gsTUFBTUMsUUFBcUJDLElBQzNCLE9BQXFCLE9BQWpCRCxVQUNNTCxPQUFPTyxRQUFRQyxPQUNqQkgsRUFBYUksU0FDYixDQUFFQyxTQUFTLFNBRVNDLElBQXBCTixFQUFhSCxVQUNQRixPQUFPWSxLQUFLSixPQUNkSCxFQUFhSCxHQUNiLENBQUVXLFFBQVEsS0FHWCxFQUdmLENBRUFWLGVBQWVHLElBQ1gsTUFBTVEsUUFBc0JkLE9BQU9ZLEtBQUtHLE1BQU0sQ0FBRUMsSUFBS2pCLE1BRXJELE9BQTZCLElBQXpCZSxFQUFjRyxPQUFxQixLQUNoQ0gsRUFBYyxFQUN6QixDQUVBWCxlQUFlZSxJQUNYLFNBQVVkLElBQ04sT0FHSixNQUFNZSxRQUFzQm5CLE9BQU9PLFFBQVFhLGFBS3JDQyxFQUFPQyxLQUFLQyxPQUFPSixFQUFjRSxNQUFRLE1BQVFGLEVBQWNLLE9BQVMsR0FIM0QsSUFHNkUsSUFDMUZDLEVBQU1ILEtBQUtDLE9BQU9KLEVBQWNNLEtBQU8sS0FBTyxVQUU5Q3pCLE9BQU9PLFFBQVFtQixPQUFPLENBQ3hCVixJQUFLLGFBQ0xRLE1BUmUsSUFTZkcsT0FSZ0IsSUFTaEJDLEtBQU0sUUFDTmxCLFNBQVMsRUFDVFcsS0FBTUEsRUFDTkksSUFBS0EsR0FFYixDQWpGQXpCLE9BQU9DLFFBQVE0QixrQkFBa0JDLGFBQVksQ0FBQ0MsRUFBU0MsRUFBUUMsS0FDM0QsR0FBZ0IsK0JBQVpGLEVBRUEsT0F5RlI1Qix1QkFUQUEsaUJBQ0ksT0FBc0MsYUFBeEJHLEdBQ2xCLENBUWM0QixVQUdKaEIsR0FDVixDQS9GUWlCLEdBQTZCQyxNQUFLLEtBQVFILEdBQWMsS0FDakQsQ0FDWCxJQUdKakMsT0FBT0MsUUFBUW9DLFVBQVVQLGFBQVksQ0FBQ0MsRUFBU0MsRUFBUUMsSUFDbkMscUNBQVpGLEdBK0VSNUIsaUJBRUksYUFENEJILE9BQU9ZLEtBQUtHLE1BQU0sQ0FBRUMsSUFBS2pCLE9BQ2hDa0IsT0FBUyxDQUNsQyxDQWpGUXFCLEdBQW1DRixNQUFNRyxJQUNyQ04sRUFBYU0sRUFBUyxLQUVuQixHQUVLLHdCQUFaUixHQUNBM0IsSUFBc0JnQyxNQUFNRyxJQUN4Qk4sRUFBYU0sRUFBUyxLQUVuQixRQUpYLElBUUp2QyxPQUFPd0MsT0FBT0MsVUFBVVgsYUFBWTNCLGVBQWdCdUMsU0FDMUN4QixHQUNWLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItY2hyb21lLWV4dGVuc2lvbi8uL3NyYy9iYWNrZ3JvdW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNocm9tZS5ydW50aW1lLm9uTWVzc2FnZUV4dGVybmFsLmFkZExpc3RlbmVyKChtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuICAgIGlmIChtZXNzYWdlID09PSAnZW5zdXJlRXh0ZW5zaW9uUG9wdXBPcGVuZWQnKSB7XG4gICAgICAgIGVuc3VyZUV4dGVuc2lvblBvcHVwT3BlbmVkKCkudGhlbigoKSA9PiB7IHNlbmRSZXNwb25zZSgpIH0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufSlcblxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuICAgIGlmIChtZXNzYWdlID09PSAnYXJlTXVsdGlwbGVFeHRlbnNpb25Qb3B1cHNPcGVuZWQnKSB7XG4gICAgICAgIGFyZU11bHRpcGxlRXh0ZW5zaW9uUG9wdXBzT3BlbmVkKCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZShyZXNwb25zZSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UgPT09ICdmb2N1c0V4dGVuc2lvblBvcHVwJykge1xuICAgICAgICBmb2N1c0V4dGVuc2lvblBvcHVwKCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZShyZXNwb25zZSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59KVxuXG5jaHJvbWUuYWN0aW9uLm9uQ2xpY2tlZC5hZGRMaXN0ZW5lcihhc3luYyBmdW5jdGlvbiAoXykge1xuICAgIGF3YWl0IG9wZW5FeHRlbnNpb25Qb3B1cCgpXG59KTtcblxuXG5mdW5jdGlvbiBleHRlbnNpb25VcmwoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGNocm9tZS1leHRlbnNpb246Ly8ke2Nocm9tZS5ydW50aW1lLmlkfS9pbmRleC5odG1sYFxufVxuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGEgZXh0ZW5zaW9uIHBvcHVwIGhhcyBiZWVuIGZvY3VzZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZm9jdXNFeHRlbnNpb25Qb3B1cCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBleHRlbnNpb25UYWIgPSBhd2FpdCBmaW5kRXh0ZW5zaW9uVGFiKClcbiAgICBpZiAoZXh0ZW5zaW9uVGFiICE9PSBudWxsKSB7XG4gICAgICAgIGF3YWl0IGNocm9tZS53aW5kb3dzLnVwZGF0ZShcbiAgICAgICAgICAgIGV4dGVuc2lvblRhYi53aW5kb3dJZCxcbiAgICAgICAgICAgIHsgZm9jdXNlZDogdHJ1ZSB9LFxuICAgICAgICApXG4gICAgICAgIGlmIChleHRlbnNpb25UYWIuaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXdhaXQgY2hyb21lLnRhYnMudXBkYXRlKFxuICAgICAgICAgICAgICAgIGV4dGVuc2lvblRhYi5pZCxcbiAgICAgICAgICAgICAgICB7IGFjdGl2ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kRXh0ZW5zaW9uVGFiKCk6IFByb21pc2U8Y2hyb21lLnRhYnMuVGFiIHwgbnVsbD4ge1xuICAgIGNvbnN0IGV4dGVuc2lvblRhYnMgPSBhd2FpdCBjaHJvbWUudGFicy5xdWVyeSh7IHVybDogZXh0ZW5zaW9uVXJsKCkgfSlcblxuICAgIGlmIChleHRlbnNpb25UYWJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gZXh0ZW5zaW9uVGFic1swXVxufVxuXG5hc3luYyBmdW5jdGlvbiBvcGVuRXh0ZW5zaW9uUG9wdXAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGF3YWl0IGZvY3VzRXh0ZW5zaW9uUG9wdXAoKSkge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50V2luZG93ID0gYXdhaXQgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudCgpO1xuXG4gICAgY29uc3QgcG9wdXBXaWR0aCA9IDM3MFxuICAgIGNvbnN0IHBvcHVwSGVpZ2h0ID0gODAwXG5cbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5yb3VuZCgoY3VycmVudFdpbmRvdy5sZWZ0ID8/IDIwMCkgKyAoY3VycmVudFdpbmRvdy53aWR0aCA/PyAwKSAtIHBvcHVwV2lkdGggLSAzMik7XG4gICAgY29uc3QgdG9wID0gTWF0aC5yb3VuZCgoY3VycmVudFdpbmRvdy50b3AgPz8gMjAwKSArIDY0KTtcblxuICAgIGF3YWl0IGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7XG4gICAgICAgIHVybDogXCJpbmRleC5odG1sXCIsXG4gICAgICAgIHdpZHRoOiBwb3B1cFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHBvcHVwSGVpZ2h0LFxuICAgICAgICB0eXBlOiBcInBhbmVsXCIsXG4gICAgICAgIGZvY3VzZWQ6IHRydWUsXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgIH0pXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGlzRXh0ZW5zaW9uUG9wdXBPcGVuZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIChhd2FpdCBmaW5kRXh0ZW5zaW9uVGFiKCkpICE9PSBudWxsXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFyZU11bHRpcGxlRXh0ZW5zaW9uUG9wdXBzT3BlbmVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGV4dGVuc2lvblRhYnMgPSBhd2FpdCBjaHJvbWUudGFicy5xdWVyeSh7IHVybDogZXh0ZW5zaW9uVXJsKCkgfSlcbiAgICByZXR1cm4gZXh0ZW5zaW9uVGFicy5sZW5ndGggPiAxXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZUV4dGVuc2lvblBvcHVwT3BlbmVkKCkge1xuICAgIGlmIChhd2FpdCBpc0V4dGVuc2lvblBvcHVwT3BlbmVkKCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGF3YWl0IG9wZW5FeHRlbnNpb25Qb3B1cCgpXG59XG4iXSwibmFtZXMiOlsiZXh0ZW5zaW9uVXJsIiwiY2hyb21lIiwicnVudGltZSIsImlkIiwiYXN5bmMiLCJmb2N1c0V4dGVuc2lvblBvcHVwIiwiZXh0ZW5zaW9uVGFiIiwiZmluZEV4dGVuc2lvblRhYiIsIndpbmRvd3MiLCJ1cGRhdGUiLCJ3aW5kb3dJZCIsImZvY3VzZWQiLCJ1bmRlZmluZWQiLCJ0YWJzIiwiYWN0aXZlIiwiZXh0ZW5zaW9uVGFicyIsInF1ZXJ5IiwidXJsIiwibGVuZ3RoIiwib3BlbkV4dGVuc2lvblBvcHVwIiwiY3VycmVudFdpbmRvdyIsImdldEN1cnJlbnQiLCJsZWZ0IiwiTWF0aCIsInJvdW5kIiwid2lkdGgiLCJ0b3AiLCJjcmVhdGUiLCJoZWlnaHQiLCJ0eXBlIiwib25NZXNzYWdlRXh0ZXJuYWwiLCJhZGRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJpc0V4dGVuc2lvblBvcHVwT3BlbmVkIiwiZW5zdXJlRXh0ZW5zaW9uUG9wdXBPcGVuZWQiLCJ0aGVuIiwib25NZXNzYWdlIiwiYXJlTXVsdGlwbGVFeHRlbnNpb25Qb3B1cHNPcGVuZWQiLCJyZXNwb25zZSIsImFjdGlvbiIsIm9uQ2xpY2tlZCIsIl8iXSwic291cmNlUm9vdCI6IiJ9